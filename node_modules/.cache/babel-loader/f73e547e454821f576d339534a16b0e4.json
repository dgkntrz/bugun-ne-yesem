{"ast":null,"code":"var _JSON$parse,\n    _jsxFileName = \"C:\\\\Users\\\\Neptun\\\\Desktop\\\\lucky-wheel-master\\\\src\\\\App.js\";\n\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { animated, useSpring } from \"react-spring\";\nimport \"./App.css\";\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport parse from 'html-react-parser';\nvar storage = window.localStorage;\nconst DEFAULT = \"default_list\";\nlet x = 0;\nlet checkBoxes = [false, false, false, false, false, false, false];\nlet checkList = [\"et\", \"balık\", \"tavuk\", \"bulgur\", \"sosis\", \"kıyma\", \"tatlı\"];\nlet maksimumYemek = 4;\nlet f = 0;\nlet k = 0;\nlet transformString = \"\";\nlet rotating = false;\nlet first = false; // const red = \"#BA181B\";\n\nconst red = \"#000000\";\nconst triangle = \"#2C302E\";\nconst wheel = \"#FFFFFF\";\nconst fieldcolor = \"#FFFFFF\";\nconst textcolor = \"#FFFFFF\";\nlet default_list = (_JSON$parse = JSON.parse(storage.getItem(DEFAULT))) !== null && _JSON$parse !== void 0 ? _JSON$parse : [\"aa\", \"bb\", \"cc\", \"dd\", \"ee\"];\nconst OFFSET = Math.random();\n\nconst map = function (value, in_min, in_max, out_min, out_max) {\n  if (value === 0) {\n    return out_min;\n  }\n\n  return (value - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n};\n\nfunction App() {\n  const r = 200;\n  const cx = 250;\n  const cy = 250;\n  const [list, setList] = useState(default_list);\n  setInterval(() => {\n    const elements = document.getElementsByClassName(\"wheel\");\n    const st = window.getComputedStyle(elements[0], null);\n\n    if (!first) {\n      transformString = st.getPropertyValue(\"transform\");\n      first = true;\n    } else {\n      if (transformString != st.getPropertyValue(\"transform\")) {\n        console.log(\"1\");\n        f = 0;\n        rotating = true;\n        transformString = st.getPropertyValue(\"transform\");\n        k = 0;\n      } else {\n        if (rotating && transformString == st.getPropertyValue(\"transform\")) {\n          rotating = false;\n          f = 1;\n          console.log(\"2\"); // getWinner();\n        }\n      }\n    }\n  }, 400);\n  setInterval(() => {\n    if (!rotating && f == 1) {\n      k = k + 1;\n    } else if (f == 0) {\n      k = 0;\n    }\n\n    if (k == 10) {\n      getWinner();\n      f = 0;\n    }\n  }, 400);\n\n  if (x == 0) {\n    const params = {\n      filters: \"et-balık-tatlı-tavuk-bulgur-sosis-kıyma-\",\n      count: maksimumYemek + \"\"\n    };\n    axios.post('http://localhost:8080/filters', params).then(function (response) {\n      default_list = response.data.toString().split(\"/\");\n      setList(default_list);\n      x = 1;\n    });\n  }\n\n  const [power, setPower] = useState(0);\n  const [acc, setAcc] = useState(0);\n  const config = {\n    mass: 50,\n    tension: 200,\n    friction: 200,\n    precision: 0.001\n  };\n  const [props, set] = useSpring(() => ({\n    transform: \"rotate(0deg)\",\n    immediate: false\n  }));\n  useEffect(() => {}, [props]);\n  useEffect(() => {\n    set({\n      from: {\n        transform: `rotate(${map(acc, 0, 100, 0, 1700)}deg)`\n      },\n      transform: `rotate(${map(acc + power, 0, 100, 0, 1700)}deg)`,\n      immediate: false,\n      config\n    });\n    setAcc(acc + power);\n  }, [power]);\n\n  const rederItems = numOfItems => {\n    let items = [];\n\n    for (let i = 0; i < numOfItems; i++) {\n      let xLength = Math.cos(2 * Math.PI * (i / numOfItems + OFFSET)) * (r - 5);\n      let yLength = Math.sin(2 * Math.PI * (i / numOfItems + OFFSET)) * (r - 5);\n      let txLength = Math.cos(2 * Math.PI * ((i + 0.5) / numOfItems + OFFSET)) * (r / 2);\n      let tyLength = Math.sin(2 * Math.PI * ((i + 0.5) / numOfItems + OFFSET)) * (r / 2);\n      let divs = \"\";\n\n      for (let k = list[i].length; k < 21; k++) {\n        divs += \"&ensp;\";\n      }\n\n      items.push( /*#__PURE__*/React.createElement(Fragment, {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"line\", {\n        stroke: red,\n        strokeWidth: \"2\",\n        x1: cx + xLength,\n        y1: cy + yLength,\n        x2: cx,\n        y2: cy,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"text\", {\n        className: \"textstyle2\",\n        x: cx + txLength - 50,\n        y: cy + tyLength,\n        fontSize: \"15px\",\n        transform: `rotate(${((i + 0.5) / numOfItems + OFFSET) * 360} \n                  ${cx + txLength},\n                  ${cy + tyLength})`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, list[i], \" \", parse(divs))));\n    }\n\n    return items;\n  };\n\n  const boslukEkle = () => {\n    // &ensp;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u2002\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 10\n    }\n  }, \"Bug\\xFCn Ne Yesem?\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"grid\",\n      gridTemplateColumns: \"0px 500px\",\n      gridGap: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    style: {\n      backgroundColor: fieldcolor,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    className: \"textstyle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, \" Filtreler \"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"textstyle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, \"A\\u015Fa\\u011F\\u0131dan yeme\\u011Finizin i\\xE7erisinde bulunmas\\u0131n\\u0131 istemedi\\u011Finiz \\xFCr\\xFCnleri \\xE7\\u0131kart\\u0131p \\\"Yemekleri Yenile\\\" butonuna basarak tekerle\\u011Fi g\\xFCncelleyebilirsiniz!\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"yemek1\",\n    style: {\n      alignSelf: 'center',\n      textAlign: 'center'\n    },\n    name: \"ingredient1\",\n    value: \"yemek1\",\n    defaultChecked: true,\n    onChange: () => {\n      checkBoxes[0] = !checkBoxes[0];\n\n      if (checkBoxes[0]) {\n        checkList[0] = \"\";\n      } else {\n        checkList[0] = \"et\";\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"textstyle\",\n    for: \"yemek1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, \"Et\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"yemek2\",\n    style: {\n      alignSelf: 'center',\n      textAlign: 'center'\n    },\n    name: \"ingredient2\",\n    value: \"yemek2\",\n    defaultChecked: true,\n    onChange: () => {\n      checkBoxes[1] = !checkBoxes[1];\n\n      if (checkBoxes[1]) {\n        checkList[1] = \"\";\n      } else {\n        checkList[1] = \"balık\";\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"textstyle\",\n    for: \"yemek2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }, \"Bal\\u0131k\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"yemek3\",\n    name: \"ingredient3\",\n    value: \"yemek3\",\n    defaultChecked: true,\n    onChange: () => {\n      checkBoxes[2] = !checkBoxes[2];\n\n      if (checkBoxes[2]) {\n        checkList[2] = \"\";\n      } else {\n        checkList[2] = \"tavuk\";\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"textstyle\",\n    for: \"yemek3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 11\n    }\n  }, \"Tavuk\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"yemek3\",\n    name: \"ingredient3\",\n    value: \"yemek3\",\n    defaultChecked: true,\n    onChange: () => {\n      checkBoxes[3] = !checkBoxes[3];\n\n      if (checkBoxes[3]) {\n        checkList[3] = \"\";\n      } else {\n        checkList[3] = \"bulgur\";\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"textstyle\",\n    for: \"yemek3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }, \"Bulgur\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"yemek4\",\n    name: \"ingredient4\",\n    value: \"yemek4\",\n    defaultChecked: true,\n    onChange: () => {\n      checkBoxes[4] = !checkBoxes[4];\n\n      if (checkBoxes[4]) {\n        checkList[4] = \"\";\n      } else {\n        checkList[4] = \"sosis\";\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"textstyle\",\n    for: \"yemek4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, \"Sosis / Sucuk / Salam\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"yemek5\",\n    name: \"ingredient5\",\n    value: \"yemek5\",\n    defaultChecked: true,\n    onChange: () => {\n      checkBoxes[5] = !checkBoxes[5];\n\n      if (checkBoxes[5]) {\n        checkList[5] = \"\";\n      } else {\n        checkList[5] = \"kıyma\";\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"textstyle\",\n    for: \"yemek5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 11\n    }\n  }, \"K\\u0131yma\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"yemek6\",\n    name: \"ingredient6\",\n    value: \"yemek6\",\n    defaultChecked: true,\n    onChange: () => {\n      checkBoxes[6] = !checkBoxes[6];\n\n      if (checkBoxes[6]) {\n        checkList[6] = \"\";\n      } else {\n        checkList[6] = \"tatlı\";\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    className: \"textstyle\",\n    for: \"yemek6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }, \"Tatl\\u0131\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"discrete-slider-small-steps\",\n    className: \"textstyle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 11\n    }\n  }, \"Maksimum Yemek Miktar\\u0131\"), /*#__PURE__*/React.createElement(Slider, {\n    onChange: (e, val) => {\n      maksimumYemek = val;\n    },\n    defaultValue: 4,\n    getAriaValueText: \"\",\n    \"aria-labelledby\": \"discrete-slider-small-steps\",\n    step: 1,\n    marks: true,\n    min: 2,\n    max: 12,\n    valueLabelDisplay: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"secondary\",\n    onClick: () => {\n      let filter = \"\";\n\n      for (let i = 0; i < checkList.length; i++) {\n        if (!checkBoxes[i]) filter += checkList[i] + \"-\";\n      }\n\n      const params = {\n        filters: filter,\n        count: maksimumYemek + \"\"\n      };\n      axios.post('http://localhost:8080/filters', params).then(function (response) {\n        if (response.data == \"\") {\n          toast.error(\"Filtrelerinizle eşleşen yemek bulunamadı!\");\n        } else {\n          default_list = response.data.toString().split(\"/\");\n        }\n\n        setList(default_list);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }\n  }, \"Yemekleri Yenile\"), /*#__PURE__*/React.createElement(PressButton, {\n    setPower: setPower,\n    style: {\n      height: \"20vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 500 500\",\n    style: {\n      width: \"100vw\",\n      height: \"80vh\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    fill: wheel,\n    stroke: red,\n    strokeWidth: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"250\",\n    cy: \"250\",\n    r: r,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(animated.g, {\n    className: \"wheel\",\n    style: {\n      transform: props.transform,\n      transformOrigin: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 9\n    }\n  }, rederItems(list.length)), /*#__PURE__*/React.createElement(\"g\", {\n    fill: triangle,\n    stroke: triangle,\n    strokeWidth: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"250,70 230,30 270,30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ToastContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }\n  })));\n}\n\nconst PressButton = ({\n  setPower\n}) => {\n  const [pressed, toggle] = useState(false);\n  const [width, setWidth] = useState(0);\n  const [props, set] = useSpring(() => ({\n    width: \"0%\",\n    backgroundColor: \"hotpink\"\n  }));\n  useEffect(() => {\n    if (pressed) set({\n      from: {\n        width: \"0%\",\n        backgroundColor: \"hotpink\"\n      },\n      to: {\n        width: \"100%\",\n        backgroundColor: \"red\"\n      },\n      immediate: false,\n      config: {\n        duration: 2000\n      }\n    });else {\n      setPower(parseInt(width));\n      set({\n        to: {\n          width: \"0%\",\n          backgroundColor: \"hotpink\"\n        },\n        immediate: true\n      });\n    }\n  }, [pressed]);\n  return /*#__PURE__*/React.createElement(\"button\", {\n    className: \"main\",\n    onMouseDown: () => {\n      toggle(!pressed);\n    },\n    onMouseUp: () => {\n      toggle(!pressed);\n    },\n    onTouchStart: () => {\n      toggle(!pressed);\n    },\n    onTouchEnd: () => {\n      toggle(!pressed);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(animated.div, {\n    className: \"fill\",\n    style: {\n      width: props.width,\n      background: props.backgroundColor\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(animated.div, {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 7\n    }\n  }, props.width.interpolate(x => {\n    setWidth(parseInt(x));\n    return x === \"0%\" ? \"Döndür!\" : parseInt(x) + \"%\";\n  })));\n};\n\nfunction getWinner() {\n  const elements = document.getElementsByClassName(\"textstyle2\");\n  let minY = 3000;\n  let elem = -1;\n\n  for (let i = 0; i < elements.length; i++) {\n    if (elements[i].getBoundingClientRect().y < minY) {\n      minY = elements[i].getBoundingClientRect().y;\n      elem = i;\n    }\n  }\n\n  toast.success(\"Bugünün şanslı yemeği: \" + elements[elem].innerHTML.substring(0, elements[elem].innerHTML.lastIndexOf(\" \")) + \"!\");\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Neptun/Desktop/lucky-wheel-master/src/App.js"],"names":["React","Fragment","useState","useEffect","animated","useSpring","axios","ToastContainer","toast","Slider","Typography","parse","storage","window","localStorage","DEFAULT","x","checkBoxes","checkList","maksimumYemek","f","k","transformString","rotating","first","red","triangle","wheel","fieldcolor","textcolor","default_list","JSON","getItem","OFFSET","Math","random","map","value","in_min","in_max","out_min","out_max","App","r","cx","cy","list","setList","setInterval","elements","document","getElementsByClassName","st","getComputedStyle","getPropertyValue","console","log","getWinner","params","filters","count","post","then","response","data","toString","split","power","setPower","acc","setAcc","config","mass","tension","friction","precision","props","set","transform","immediate","from","rederItems","numOfItems","items","i","xLength","cos","PI","yLength","sin","txLength","tyLength","divs","length","push","boslukEkle","display","gridTemplateColumns","gridGap","backgroundColor","alignItems","justifyContent","alignSelf","textAlign","e","val","filter","error","height","width","transformOrigin","PressButton","pressed","toggle","setWidth","to","duration","parseInt","background","interpolate","minY","elem","getBoundingClientRect","y","success","innerHTML","substring","lastIndexOf"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\nimport { animated, useSpring } from \"react-spring\";\nimport \"./App.css\";\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Slider from '@material-ui/core/Slider';\nimport Typography from '@material-ui/core/Typography';\nimport parse from 'html-react-parser';\n\n\nvar storage = window.localStorage;\n\nconst DEFAULT = \"default_list\";\nlet x = 0;\nlet checkBoxes = [false, false, false, false, false, false, false];\nlet checkList = [\"et\", \"balık\", \"tavuk\", \"bulgur\", \"sosis\", \"kıyma\", \"tatlı\"];\n\nlet maksimumYemek = 4;\nlet f = 0;\nlet k = 0;\nlet transformString = \"\";\nlet rotating = false;\nlet first = false;\n// const red = \"#BA181B\";\nconst red = \"#000000\";\nconst triangle = \"#2C302E\"\nconst wheel = \"#FFFFFF\"\nconst fieldcolor = \"#FFFFFF\"\nconst textcolor = \"#FFFFFF\"\n\n\nlet default_list = JSON.parse(storage.getItem(DEFAULT)) ?? [\n  \"aa\",\n  \"bb\",\n  \"cc\",\n  \"dd\",\n  \"ee\",\n];\n\nconst OFFSET = Math.random();\n\nconst map = function (value, in_min, in_max, out_min, out_max) {\n  if (value === 0) {\n    return out_min;\n  }\n  return ((value - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min;\n};\n\nfunction App() {\n  const r = 200;\n  const cx = 250;\n  const cy = 250;\n  const [list, setList] = useState(default_list);\n  setInterval(() => {\n    const elements = document.getElementsByClassName(\"wheel\");\n    const st = window.getComputedStyle(elements[0], null);\n    if (!first){\n      transformString = st.getPropertyValue(\"transform\");\n      first = true;\n    }\n    else{ \n\n      if (transformString != st.getPropertyValue(\"transform\")){\n        console.log(\"1\")\n        f = 0;\n        rotating = true;\n        transformString = st.getPropertyValue(\"transform\");\n        k = 0;\n      }\n      else{\n        if (rotating && transformString == st.getPropertyValue(\"transform\")){\n          rotating = false;\n          f = 1;\n          console.log(\"2\")\n         // getWinner();\n        }\n        \n      }\n  }\n    \n  }, 400);\n\n  setInterval(()=>{\n    if(!rotating && f == 1){\n      k = k+1;\n    }\n    else if (f == 0){\n      k = 0;\n    }\n    if (k == 10){\n      getWinner();\n      f = 0;\n    }\n  },400)\n\n  if (x == 0) {\n    const params = { filters: \"et-balık-tatlı-tavuk-bulgur-sosis-kıyma-\", count: maksimumYemek + \"\"};\n    axios.post('http://localhost:8080/filters', params)\n      .then(function (response) {\n\n        default_list = response.data.toString().split(\"/\");\n        setList(default_list);\n        x = 1;\n      });\n  }\n  const [power, setPower] = useState(0);\n  const [acc, setAcc] = useState(0);\n  const config = { mass: 50, tension: 200, friction: 200, precision: 0.001 };\n  const [props, set] = useSpring(() => ({\n    transform: \"rotate(0deg)\",\n    immediate: false,\n  }));\n\n  useEffect(()=>{\n\n  },[props])\n\n  useEffect(() => {\n\n    set({\n      from: { transform: `rotate(${map(acc, 0, 100, 0, 1700)}deg)` },\n      transform: `rotate(${map(acc + power, 0, 100, 0, 1700)}deg)`,\n      immediate: false,\n      config,\n    });\n    setAcc(acc + power);\n  }, [power]);\n\n  const rederItems = (numOfItems) => {\n    let items = [];\n    for (let i = 0; i < numOfItems; i++) {\n      let xLength = Math.cos(2 * Math.PI * (i / numOfItems + OFFSET)) * (r - 5);\n      let yLength = Math.sin(2 * Math.PI * (i / numOfItems + OFFSET)) * (r - 5);\n      let txLength =\n        Math.cos(2 * Math.PI * ((i + 0.5) / numOfItems + OFFSET)) * (r / 2);\n      let tyLength =\n        Math.sin(2 * Math.PI * ((i + 0.5) / numOfItems + OFFSET)) * (r / 2);\n      let divs = \"\";\n\n      for (let k = list[i].length; k < 21; k++){\n        divs += \"&ensp;\"\n      }\n      items.push(\n        <Fragment key={i}>\n          <line\n            stroke={red}\n            strokeWidth=\"2\"\n            x1={cx + xLength}\n            y1={cy + yLength}\n            x2={cx}\n            y2={cy}\n          />\n          <text\n            className=\"textstyle2\"\n            x={cx + txLength - 50}\n            y={cy + tyLength}\n            fontSize=\"15px\"\n            transform={`rotate(${((i + 0.5) / numOfItems + OFFSET) * 360} \n                  ${cx + txLength},\n                  ${cy + tyLength})`}\n          >\n            {list[i]} {parse(divs)}\n          </text>\n        </Fragment>\n      );\n    }\n    return items;\n  };\n\n  const boslukEkle =()=>{\n    // &ensp;\n    return (<>&ensp;</>)\n  }\n\n  return (\n    <div>\n    <div><h1>Bugün Ne Yesem?</h1></div>\n    <div style={{ display: \"grid\", gridTemplateColumns: \"0px 500px\", gridGap: 20 }}>\n\n      <fieldset style={{backgroundColor:fieldcolor, alignItems: 'center', justifyContent: 'center'}}>\n        <legend className=\"textstyle\"> Filtreler </legend>\n        <div className=\"textstyle\">Aşağıdan yemeğinizin içerisinde bulunmasını istemediğiniz ürünleri çıkartıp \"Yemekleri Yenile\" butonuna basarak tekerleği güncelleyebilirsiniz!</div>\n        <div>\n          <input type=\"checkbox\" id=\"yemek1\" style={{alignSelf:'center',textAlign:'center'}} name=\"ingredient1\" value=\"yemek1\" defaultChecked={true} onChange={() => {\n            checkBoxes[0] = !checkBoxes[0];\n            if (checkBoxes[0]) {\n              checkList[0] = \"\";\n            }\n            else {\n              checkList[0] = \"et\";\n            }\n          }} />\n          <label className=\"textstyle\" for=\"yemek1\">Et</label>\n        </div>\n        <div>\n          <input type=\"checkbox\" id=\"yemek2\" style={{alignSelf:'center',textAlign:'center'}} name=\"ingredient2\" value=\"yemek2\" defaultChecked={true} onChange={() => {\n            checkBoxes[1] = !checkBoxes[1];\n            if (checkBoxes[1]) {\n              checkList[1] = \"\";\n            }\n            else {\n              checkList[1] = \"balık\";\n            }\n          }} />\n          <label className=\"textstyle\" for=\"yemek2\">Balık</label>\n        </div>\n        <div>\n          <input type=\"checkbox\" id=\"yemek3\" name=\"ingredient3\" value=\"yemek3\" defaultChecked={true}  onChange={() => {\n            checkBoxes[2] = !checkBoxes[2];\n            if (checkBoxes[2]) {\n              checkList[2] = \"\";\n            }\n            else {\n              checkList[2] = \"tavuk\";\n            }\n          }} />\n          <label className=\"textstyle\" for=\"yemek3\">Tavuk</label>\n        </div>\n        <div>\n          <input type=\"checkbox\" id=\"yemek3\" name=\"ingredient3\" value=\"yemek3\" defaultChecked={true} onChange={() => {\n            checkBoxes[3] = !checkBoxes[3];\n            if (checkBoxes[3]) {\n              checkList[3] = \"\";\n            }\n            else {\n              checkList[3] = \"bulgur\";\n            }\n          }} />\n          <label className=\"textstyle\" for=\"yemek3\">Bulgur</label>\n        </div>\n        <div>\n          <input type=\"checkbox\" id=\"yemek4\" name=\"ingredient4\" value=\"yemek4\" defaultChecked={true} onChange={() => {\n            checkBoxes[4] = !checkBoxes[4];\n            if (checkBoxes[4]) {\n              checkList[4] = \"\";\n            }\n            else {\n              checkList[4] = \"sosis\";\n            }\n          }} />\n          <label className=\"textstyle\" for=\"yemek4\">Sosis / Sucuk / Salam</label>\n        </div>\n        <div>\n          <input type=\"checkbox\" id=\"yemek5\" name=\"ingredient5\" value=\"yemek5\" defaultChecked={true} onChange={() => {\n            checkBoxes[5] = !checkBoxes[5];\n            if (checkBoxes[5]) {\n              checkList[5] = \"\";\n            }\n            else {\n              checkList[5] = \"kıyma\";\n            }\n          }} />\n          <label className=\"textstyle\" for=\"yemek5\">Kıyma</label>\n        </div>\n        <div>\n          <input type=\"checkbox\" id=\"yemek6\" name=\"ingredient6\" value=\"yemek6\" defaultChecked={true} onChange={() => {\n            checkBoxes[6] = !checkBoxes[6];\n            if (checkBoxes[6]) {\n              checkList[6] = \"\";\n            }\n            else {\n              checkList[6] = \"tatlı\";\n            }\n          }} />\n          <label className=\"textstyle\" for=\"yemek6\">Tatlı</label>\n        </div>\n        <div>\n          <label id=\"discrete-slider-small-steps\" className=\"textstyle\">\n            Maksimum Yemek Miktarı\n          </label>\n          <Slider\n            onChange={(e,val)=>{\n              maksimumYemek = val;\n            }}\n\n            defaultValue={4}\n            getAriaValueText={\"\"}\n            aria-labelledby=\"discrete-slider-small-steps\"\n            step={1}\n            marks\n            min={2}\n            max={12}\n            valueLabelDisplay=\"auto\"\n          />\n        </div>\n        <button className=\"secondary\" onClick={() => {\n          let filter = \"\";\n          for (let i = 0; i < checkList.length; i++) {\n            if (!checkBoxes[i])\n              filter += checkList[i] + \"-\";\n          }\n          const params = { filters: filter, count: maksimumYemek + \"\"};\n          axios.post('http://localhost:8080/filters', params)\n            .then(function (response) {\n              if (response.data == \"\") {\n                toast.error(\"Filtrelerinizle eşleşen yemek bulunamadı!\");\n              }\n              else {\n                default_list = response.data.toString().split(\"/\");\n              }\n              setList(default_list);\n            });\n        }}>Yemekleri Yenile</button>\n        <PressButton setPower={setPower} style={{ height: \"20vh\" }} />\n      </fieldset>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        viewBox=\"0 0 500 500\"\n        style={{ width: \"100vw\", height: \"80vh\" }}\n      >\n        <g fill={wheel} stroke={red} strokeWidth=\"10\">\n          <circle cx=\"250\" cy=\"250\" r={r} />\n        </g>\n        <animated.g\n        className={\"wheel\"}\n          style={{\n            transform: props.transform,\n            transformOrigin: \"center\",\n          }}\n        >\n          {rederItems(list.length)}\n        </animated.g>\n        <g fill={triangle} stroke={triangle} strokeWidth=\"2\">\n          <polygon points=\"250,70 230,30 270,30\" />\n        </g>\n      </svg>\n      <ToastContainer />\n    </div>\n    </div>\n  );\n}\n\nconst PressButton = ({ setPower }) => {\n  const [pressed, toggle] = useState(false);\n  const [width, setWidth] = useState(0);\n  const [props, set] = useSpring(() => ({\n    width: \"0%\",\n    backgroundColor: \"hotpink\",\n  }));\n  useEffect(() => {\n    if (pressed)\n      set({\n        from: { width: \"0%\", backgroundColor: \"hotpink\" },\n        to: { width: \"100%\", backgroundColor: \"red\" },\n        immediate: false,\n        config: { duration: 2000 },\n      });\n    else {\n      setPower(parseInt(width));\n      set({ to: { width: \"0%\", backgroundColor: \"hotpink\" }, immediate: true });\n    }\n  }, [pressed]);\n\n  return (\n    <button\n      className=\"main\"\n      onMouseDown={() => {\n        toggle(!pressed);\n      }}\n      onMouseUp={() => {\n        toggle(!pressed);\n      }}\n      onTouchStart={() => {\n        toggle(!pressed);\n      }}\n      onTouchEnd={() => {\n        toggle(!pressed);\n      }}\n    >\n      <animated.div\n        className=\"fill\"\n        style={{\n          width: props.width,\n          background: props.backgroundColor,\n        }}\n      />\n      <animated.div className=\"content\">\n        {props.width.interpolate((x) => {\n          setWidth(parseInt(x));\n          return x === \"0%\" ? \"Döndür!\" : parseInt(x) + \"%\";\n        })}\n      </animated.div>\n    </button>\n  );\n};\n\nfunction getWinner(){\n  const elements = document.getElementsByClassName(\"textstyle2\");\n  let minY = 3000;\n  let elem = -1;\n  for (let i = 0; i < elements.length; i++){\n    if (elements[i].getBoundingClientRect().y < minY){\n      minY = elements[i].getBoundingClientRect().y;\n      elem = i;\n    }\n  }\n  toast.success(\"Bugünün şanslı yemeği: \" + elements[elem].innerHTML.substring(0,elements[elem].innerHTML.lastIndexOf(\" \")) + \"!\");\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}